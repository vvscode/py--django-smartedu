<!DOCTYPE html>
<html lang="en">

<head>
    <title>
        {% block title %}
        {{ page_title | default:"Untitled Page" }}
        {% endblock title %}
    </title>
    {% load static %}
    {%  block header %}{% endblock header %}
    <link rel="stylesheet" href="{%  static "css/bootstrap.min.css" %}" />
</head>

<body>
    {% block main_menu %}
    <header class="container mt-3">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="{%  url 'training_sheet.index' %}">SmartEdu</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li
                        class="nav-item {% if request.resolver_match.view_name == 'training_sheet.index' %}active{% endif %}">
                        <a class="nav-link" href="{%  url 'training_sheet.index' %}">Все курсы</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav ml-auto">
                    {% if user.id %}
                    <li
                        class="nav-item {% if request.resolver_match.view_name == 'training_sheet.course_add' %}active{% endif %}">
                        <a class="nav-link" href="{%  url 'training_sheet.course_add' %}">Add course</a>
                    </li>
                    {% endif %}
                    <li
                        class="nav-item {% if request.resolver_match.view_name == 'training_sheet.contact_us' %}active{% endif %}">
                        <a class="nav-link" href="{%  url 'training_sheet.contact_us' %}">Contact us</a>
                    </li>
                    {% if user.id %}
                    <li class="nav-item {% if request.resolver_match.view_name == 'auth_login' %}active{% endif %}">
                        <a class="nav-link" href="{%  url 'auth_logout' %}">Logout ({{user}})</a>
                    </li>
                    {% else %}
                    <li class="nav-item {% if request.resolver_match.view_name == 'ajax-register' %}active{% endif %}">
                        <a class="nav-link" href="{%  url 'ajax-register' %}">Register</a>
                    </li>
                    <li class="nav-item {% if request.resolver_match.view_name == 'auth_logout' %}active{% endif %}">
                        <a class="nav-link" href="{%  url 'auth_login' %}">Login</a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </nav>
    </header>
    {% endblock main_menu %}
    <main class="container mt-3">
        {% block content %}
        <p>Placeholder text in base template. Replace with page content.</p>
        {% endblock content %}
    </main>
    <script src="{%  static "js/jquery-3.4.1.slim.min.js" %}"></script>
    <script src="{%  static "js/popper.min.js" %}"></script>
    <script src="{%  static "js/bootstrap.min.js" %}"></script>
</body>

</html>
